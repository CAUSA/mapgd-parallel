	=============================================================
	#	How to make and run the genome mapping/mapgd pipelines  #
	=============================================================
	
To make and run the genome mapping/mapgd pipelines in large scale, simply run:

 ./Make_pipelines.sh

 Your screen will show a menu:

  =================================================================
  #                                                               #
  #     To make genome mapping pipelines, execute the             #
  # following commands, and follow the instructions they give:    #
  #                                                               #
  #     To make genome mapping pipelines using bwa:               #
  #                                                               #
         perl Make_pipelines-Genome-mapping.pl bwa path sampleID
  #                                                               #
  #     To make genome mapping pipelines using novalign:          #
  #                                                               #
      perl Make_pipelines-Genome-mapping.pl novalign path sampleID
  #                                                               #
  #     To make genome mapping pipelines using hisat2:            #
  #                                                               #
       perl Make_pipelines-Genome-mapping.pl hisat path sampleID
  #                                                               #
  =================================================================

Run the Make_pipelines-Genome-mapping perl script for the aligner you choose to make the pipelines and then 

For a detailed description for each pipeline, read the following Readme:

0README-1.genome mapping-Bwa.txt
0README-2.genome mapping-Hisat.txt
0README-3.genome mapping-Novoalign.txt

In addition,in the original mapgd pipeline, the first step (mapgd proview) is very slow because it is not fully parallelized. This step  will takes up to 50-100 hours for a population with 96 clones. To reduce the computation time, this step is replaced with a modified pipeline, called mapgd-parallel-proview.pbs (produced by Make_pipeline-mapgd-proview.pl), in which the proview files are generated for each of the 96 clones. 	

In this way, mapgd proview file is produced for each of the 96 clones.  Because all processes can be run simutaneously in independent threads, the computation time is greatly deduced. 

Then, these mapgd proview files are combined by a homemade java program (CombineProview.java).

for details on the parallel mapgd pipeline, please refer to: 
0README-4.mapgd parallel.txt .

